<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lcdt.notify.dao.WebMessageMapper">
  <resultMap id="BaseResultMap" type="com.lcdt.notify.model.WebMessage">
    <id column="message_id" jdbcType="BIGINT" property="messageId" />
    <result column="message_content" jdbcType="VARCHAR" property="messageContent" />
    <result column="message_create_time" jdbcType="TIMESTAMP" property="messageCreateTime" />
    <result column="message_receive_user_id" jdbcType="BIGINT" property="messageReceiveUserId" />
    <result column="message_receive_company_id" jdbcType="BIGINT" property="messageReceiveCompanyId" />
    <result column="message_isread" jdbcType="BIT" property="messageIsread" />
    <result column="message_attach_url" jdbcType="VARCHAR" property="messageAttachUrl" />
    <result column="message_category" jdbcType="VARCHAR" property="messageCategory" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    delete from web_message
    where message_id = #{messageId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.lcdt.notify.model.WebMessage">
    <selectKey keyProperty="messageId" order="AFTER" resultType="java.lang.Long">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into web_message (message_content, message_create_time, 
      message_receive_user_id, message_receive_company_id, 
      message_isread, message_attach_url,message_category)
    values (#{messageContent,jdbcType=VARCHAR}, #{messageCreateTime,jdbcType=TIMESTAMP}, 
      #{messageReceiveUserId,jdbcType=BIGINT}, #{messageReceiveCompanyId,jdbcType=BIGINT}, 
      #{messageIsread,jdbcType=BIT}, #{messageAttachUrl,jdbcType=VARCHAR},#{messageCategory,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.lcdt.notify.model.WebMessage">
    update web_message
    set message_content = #{messageContent,jdbcType=VARCHAR},
      message_create_time = #{messageCreateTime,jdbcType=TIMESTAMP},
      message_receive_user_id = #{messageReceiveUserId,jdbcType=BIGINT},
      message_receive_company_id = #{messageReceiveCompanyId,jdbcType=BIGINT},
      message_isread = #{messageIsread,jdbcType=BIT},
      message_attach_url = #{messageAttachUrl,jdbcType=VARCHAR},
      message_category = #{messageCategory,jdbcType=VARCHAR}
    where message_id = #{messageId,jdbcType=BIGINT}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    select message_id, message_content, message_create_time, message_receive_user_id, 
    message_receive_company_id, message_isread, message_attach_url,message_category
    from web_message
    where message_id = #{messageId,jdbcType=BIGINT}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    select message_id, message_content, message_create_time, message_receive_user_id, 
    message_receive_company_id, message_isread, message_attach_url,message_category
    from web_message
  </select>

</mapper>